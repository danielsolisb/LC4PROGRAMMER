<!-- web/html/views/config.html -->

<!-- La hoja de estilos dedicada se mantiene -->
<link rel="stylesheet" href="/web/css/config.css">

<!-- ELIMINADO: El <link> a leaflet.css fue removido de aquí -->

<div class="main-header">
    <h2>Configuración del Controlador</h2>
</div>

<!-- Contenedor de Pestañas -->
<div class="config-tabs">
    <button class="config-tab active" data-tab="tab-intersection">1. Diseño de Intersección</button>
    <button class="config-tab" data-tab="tab-sequences">2. Lógica de Secuencias</button>
    <button class="config-tab" data-tab="tab-scheduling">3. Programación y Agenda</button>
</div>

<!-- Contenido de las Pestañas -->
<div class="config-content">
    <!-- PESTAÑA 1: DISEÑO DE INTERSECCIÓN -->
    <div id="tab-intersection" class="config-tab-content active">
        <div class="intersection-layout">
            
            <!-- Columna Izquierda: Propiedades y Matriz -->
            <div class="intersection-sidebar">
                <div class="config-panel">
                    <h5>Propiedades Generales</h5>
                    <div id="general-properties-form">
                        <!-- El formulario se generará aquí -->
                    </div>
                </div>
                <div class="config-panel">
                    <h5>Agenda de Feriados</h5>
                    <div id="holidays-editor">
                        <!-- El editor de feriados se generará aquí -->
                    </div>
                </div>
                <div class="config-panel">
                    <h5>Matriz de Conflictos</h5>
                    <div id="conflict-matrix-container">
                        <!-- La matriz se generará aquí -->
                    </div>
                </div>
            </div>

            <!-- Columna Derecha: Mapa y Herramientas -->
            <div class="intersection-main">
                <div class="map-toolbar">
                    <h6>Herramientas del Mapa</h6>
                    <button class="tool-btn" data-type="group">Añadir Grupo Semafórico</button>
                    <button class="tool-btn" data-type="pedestrian">Añadir Semáforo Peatonal</button>
                    <button class="tool-btn" data-type="demand">Añadir Botón de Demanda</button>
                    <button class="tool-btn" data-type="direction">Añadir Sentido de Vía</button>
                </div>
                <div id="map-container">
                    <div id="config-map"></div>
                </div>
            </div>

        </div>
    </div>

    <!-- PESTAÑA 2: LÓGICA DE SECUENCIAS (Contenido futuro) -->
    <div id="tab-sequences" class="config-tab-content">
    
    <div class="sequences-layout">
        
        <div class="sequences-sidebar">
            <div class="config-panel">
                <h5>Secuencias y Movimientos</h5>
                <div id="sequence-list-container">
                    </div>
                <button id="add-sequence-btn" class="tool-btn">Añadir Nueva Secuencia</button>
            </div>
        </div>

        <div id="movement-editor-container" class="sequences-main">
            <div class="config-panel" id="movement-editor-panel">
                <p class="placeholder-text">Seleccione un movimiento de la lista para comenzar a editar.</p>
            </div>
            <div class="config-panel" id="sequence-visualizer-container" style="display: none;">
                </div>
            </div>
        </div>
        

    </div>

</div>

    <!-- PESTAÑA 3: PROGRAMACIÓN Y AGENDA (Contenido futuro) -->
<div id="tab-scheduling" class="config-tab-content">

    <div class="scheduling-section">
        <div class="scheduling-layout">
            <div class="scheduling-sidebar">
                <div class="config-panel">
                    <h5>Planes Programados</h5>
                    <div id="plan-list-container"></div>
                    <button id="add-plan-btn" class="tool-btn">Añadir Nuevo Plan</button>
                </div>
            </div>
            <div class="scheduling-main">
                <div class="config-panel" id="plan-editor-container">
                    <p class="placeholder-text">Seleccione un plan de la lista para editar.</p>
                </div>
            </div>
        </div>
    </div>

    <hr class="section-divider">

    <div class="scheduling-section">
        <div class="intermittence-layout">
            <div class="intermittence-sidebar">
                 <div class="config-panel">
                    <h5>Gestión de Reglas de Intermitencia</h5>
                    <ul id="intermittence-list-container"></ul>
                    <button id="add-intermittence-btn" class="tool-btn">Añadir Regla</button>
                </div>
            </div>
            <div class="intermittence-main">
                 <div class="config-panel" id="intermittence-editor-container">
                    <p class="placeholder-text">Seleccione una regla para editar.</p>
                </div>
            </div>
        </div>
    </div>

</div>

</div>

<!-- ELIMINADO: Los <script> de leaflet.js y rotatedMarker fueron removidos de aquí -->